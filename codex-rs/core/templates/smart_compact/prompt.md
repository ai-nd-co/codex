Write a DETAILED, structured output in the exact format below.

IMPORTANT:
- Be thorough. Do NOT optimize for brevity. Optimize for continuity and correctness.
- Use markdown headings (##, ###) and bullets. No prose-only summaries.
- Be specific: include file paths, function/class names, commands run, IDs, configs, and failing tests when relevant.
- Capture decisions AND rationale, not just actions.
- If there was little/no progress, say so explicitly and include what should be done first.
- Do not omit details because you think they are "too much".

Write the output using this exact structure and section titles:

## Summary of previous work
- 5-12 bullets of what was done and why (key decisions + outcomes)

## Problem statements
- What was the initial problem/feature request?
- What symptoms, errors, or user complaints were observed?
- What was the user trying to accomplish?

## Solutions implemented
- What fixes or implementations were made?
- What approach/algorithm/architecture was used?
- What trade-offs were considered?

## Working directory and files
- What is the main working directory / repo area?
- List important files created/modified/read, with 1 line each describing why they matter.

## Related commits
- List any git commits mentioned (hash + short message), branches, and key PR links (if any).

## References to reread
- Specific files and (if known) line ranges to reread.
- Important functions/classes/patterns.
- Any docs that were referenced.

## Current state
- Where exactly did the work stop?
- What is the current state of the codebase / local changes?
- Any failing tests, open issues, or blockers.

## Todo list
1) ...
2) ...
3) ...

## Commands reference
- Important build/test/dev commands used (and expected outputs if relevant).
- Any environment setup notes that would block progress.

